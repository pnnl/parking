(this.webpackJsonpparking=this.webpackJsonpparking||[]).push([[0],{464:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(18),c=a.n(s),r=a(4),o=a(49);const l="#ffffff",d="#C6B773",p=(Object(o.a)(d).brighter(1).formatHex(),Object(o.a)(d).darker(1).formatHex(),"#4ea1d3"),h=(Object(o.a)(p).brighter(1).formatHex(),Object(o.a)(p).darker(1).formatHex(),"#f4a4a4"),b=(Object(o.a)(h).brighter(1).formatHex(),Object(o.a)(h).darker(1).formatHex(),"#d96a64"),j=Object(o.a)(b).brighter(1).formatHex(),u=(Object(o.a)(b).darker(1).formatHex(),"#d98164"),m=Object(o.a)(u).brighter(1).formatHex(),y=(Object(o.a)(u).darker(1).formatHex(),"#d9bc64"),O=Object(o.a)(y).brighter(1).formatHex(),g=(Object(o.a)(y).darker(1).formatHex(),"#66db97"),f="#43ba6a",x="#C6B773",v="#c44a40",S="#ffffff",w="#88888d";a(163);var k=a(10),C=a.n(k),N=a(3);const E=e=>/^[/s]*true|yes|t|y[/s]*$/i.test(e),P=e=>{0};var L=a(230),I=()=>new Date;const T={RESET:"reset"},{RESET:D}=T,R={REQUEST:"request",BUSY:"busy",SUCCESS:"success",UPDATE:"update",ERROR:"error",POLL:"poll"},{REQUEST:M,BUSY:J,SUCCESS:z,UPDATE:A,ERROR:U,POLL:q}=R,B=e=>C.a.set(e,["payload","cleared"],!0),V=e=>{const t=e.split("/");return t.length<2?"":t[0]},H=e=>{const t=e.split("/");return t.length<2?"":t[t.length-1]},W=(e,t)=>{switch(t){case D:case"".concat(e,"/").concat(D):return!0;default:return!1}},_=(e,t)=>{if(V(t)!==e)return!1;switch(H(t)){case M:case J:case z:case U:return!0;default:return!1}},G=e=>{if(null===e)return null;if(C.a.isBoolean(e)){return{timestamp:I()}}return e},F=e=>{if(null===e)return null;if(C.a.isBoolean(e)){return{timestamp:I()}}return e},Q=e=>{if(e){return{timestamp:I(),error:e}}return null},Y=e=>{if(e){return{timestamp:I(),...!C.a.isBoolean(e)&&{type:e}}}return null},$=(e,t)=>"".concat(e,"/").concat(t),K=(e,t)=>({key:e,[M]:"".concat(e,"/").concat(t,"/").concat(M),[J]:"".concat(e,"/").concat(t,"/").concat(J),[z]:"".concat(e,"/").concat(t,"/").concat(z),[A]:"".concat(e,"/").concat(t,"/").concat(A),[U]:"".concat(e,"/").concat(t,"/").concat(U),[q]:"".concat(e,"/").concat(t,"/").concat(q),[D]:"".concat(e,"/").concat(D)}),X=(e,t)=>{return a=a=>a.getIn([e,...t.split("/")]),Object(L.a)(a,(e=>e&&e.toJS?e.toJS():e));var a},Z=e=>[X(e.key,e[z]),X(e.key,e[U]),X(e.key,e[J]),X(e.key,e[q]),X(e.key,e[M])],ee=e=>{switch(H(e)){case J:return t=>({type:e,payload:Y(t)});case U:return t=>({type:e,payload:Q(t)});case z:return t=>({type:e,payload:G(t)});case A:return t=>({type:e,payload:F(t)});default:return t=>({type:e,payload:t})}},te=e=>[ee(e[M]),ee(e[z]),ee(e[U]),ee(e[J]),ee(e[q]),ee(e[A])],ae="busy",ne="global",ie="".concat(ae,"/tokens"),se=ee(ie),ce=X(ae,ie),re=K(ae,"make"),[oe,le,de,pe]=te(re),[he,be,je,ue]=Z(re),{REQUEST:me,BUSY:ye}=R,Oe=(e,t)=>{const{type:a,payload:n}=e;return n?t[a]=n:delete t[a],t};function*ge(e){const t=yield Object(r.e)(ce);yield Object(r.b)(Oe,e,t),yield Object(r.d)(se(t))}const fe=e=>{const t=e.type.split("/");return t[t.length-1]===ye};function*xe(){try{yield Object(r.d)(pe(ne)),yield Object(r.d)(de()),yield Object(r.c)(5e3),yield Object(r.d)(le("successfully busied"))}catch(e){P(e),yield Object(r.d)(de(e.message))}finally{yield Object(r.d)(pe(!1))}}function*ve(){yield Object(r.f)(fe,ge),yield Object(r.g)(re[me],xe)}function*Se(){}const{RESET:we}=T,ke=ee(we),Ce="error",Ne=$(Ce,"tokens"),Ee=ee(Ne),Pe=X(Ce,Ne),Le=K(Ce,"clear"),[Ie,Te,De,Re]=te(Le),[Me,Je,ze]=Z(Le),{REQUEST:Ae,ERROR:Ue}=R,qe=(e,t)=>{const{type:a,payload:n}=e;return t[a]=C.a.assign({},t[a],n,{cleared:!Boolean(n)}),t},Be=e=>{const{payload:t}=e;return/unauthorized|expired|session is invalid/gim.test(C.a.get(t,"error",""))};function*Ve(e){const t=yield Object(r.e)(Pe);yield Object(r.b)(qe,e,t),Be(e)&&(yield Object(r.d)(ke())),yield Object(r.d)(Ee(t))}const He=e=>{const t=e.type.split("/");return t[t.length-1]===Ue};function*We(e){const{payload:t}=e;if(!t)return;const a=ee(t);try{yield Object(r.d)(Re()),yield Object(r.d)(De());const e=yield Object(r.e)(Pe);yield Object(r.b)(qe,a(),e),yield Object(r.d)(Te("successfully cleared error"))}catch(n){P(n),yield Object(r.d)(De(n.message))}finally{yield Object(r.d)(Re(!1))}}function*_e(){yield Object(r.f)(He,Ve),yield Object(r.f)(Le[Ae],We)}const Ge="map",Fe=K(Ge,"info"),[Qe,Ye,$e,Ke]=te(Fe),[Xe,Ze,et,tt]=Z(Fe),at=K(Ge,"style"),[nt,it,st,ct]=te(at),[rt,ot,lt,dt]=Z(at),pt=e=>{localStorage.setItem("authorization",e)},ht=()=>{const e=localStorage.getItem("authorization");if(!C.a.isEmpty(e)&&"null"!==e)return e},bt=async e=>{switch(e.status){case 0:case 302:case 401:throw Error("Session is invalid.");default:if(!e.ok){let t=e.statusText;try{let a=await e.text();a=JSON.parse(a),C.a.isString(a)&&a.length>0?t=a:C.a.isObject(a)&&C.a.isString(a.message)&&a.message.length>0&&(t=a.message)}catch{}throw Error(t)}return e}},jt=async e=>{let t=null;try{t=await e.text(),t=JSON.parse(t)}catch{}return t},ut=e=>{throw e},mt=e=>{const t=ht();if(e&&C.a.isEmpty(t))throw Error("Session is invalid.");return{redirect:"manual",...e&&{credentials:"include"},headers:{Accept:"application/json",...e&&{Authorization:"Token ".concat(ht())}}}},yt=(e,t)=>{let a="".concat("/api","/").concat(e);if(t){const e=(e=>Object.keys(e).map((t=>t+"="+e[t])).join("&"))(t);a="".concat(a,"?").concat(e)}return a},Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=C.a.merge({},mt(a),{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",...null===t&&{"Cache-Control":"no-store"}}});let i=yt(e,t);return fetch(i,n).then(bt).then(jt).catch(ut)},gt=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=C.a.merge({},mt(n),{method:"PUT",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)});let s=yt(e,a);return fetch(s,i).then(bt).then(jt).catch(ut)},ft=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=C.a.merge({},mt(n),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)});let s=yt(e,a);return fetch(s,i).then(bt).then(jt).catch(ut)},xt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=C.a.merge({},mt(a),{method:"DELETE",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});let i=yt(e,t);return fetch(i,n).then(bt).then(jt).catch(ut)},vt=E("false"),St=()=>Ot("".concat("map","/info"),null,vt),wt=()=>Ot("".concat("map","/style"),null,vt),{REQUEST:kt}=R;function*Ct(){try{yield Object(r.d)(Ke(!0)),yield Object(r.d)($e());const e=yield Object(r.b)(St);yield Object(r.d)(Ye(e))}catch(e){P(e),yield Object(r.d)($e(e.message))}finally{yield Object(r.d)(Ke(!1))}}function*Nt(){try{yield Object(r.d)(ct(!0)),yield Object(r.d)(st());const e=yield Object(r.b)(wt);yield Object(r.d)(it(e))}catch(e){P(e),yield Object(r.d)(st(e.message))}finally{yield Object(r.d)(ct(!1))}}function*Et(){yield Object(r.g)(Fe[kt],Ct),yield Object(r.g)(at[kt],Nt)}const Pt="occupancies",Lt=K(Pt,"list"),[It,Tt,Dt,Rt]=te(Lt),[Mt,Jt,zt,At]=Z(Lt),Ut=K(Pt,"current"),[qt,Bt,Vt,Ht]=te(Ut),[Wt,_t,Gt,Ft]=Z(Ut),Qt="occupancies",Yt=E("false"),$t=()=>Ot("".concat(Qt),null,Yt),Kt=e=>Ot("".concat(Qt,"/").concat(e),null,Yt),{REQUEST:Xt}=R;function*Zt(e){const{id:t}=e.payload;try{yield Object(r.d)(Ht(!0)),yield Object(r.d)(Vt());const e=yield Object(r.b)(Kt,t);yield Object(r.d)(Bt(e))}catch(a){P(a),yield Object(r.d)(Vt(a.message))}finally{yield Object(r.d)(Ht(!1))}}function*ea(){try{yield Object(r.d)(Rt(!0)),yield Object(r.d)(Dt());const e=yield Object(r.b)($t);yield Object(r.d)(Tt(e))}catch(e){P(e),yield Object(r.d)(Dt(e.message))}finally{yield Object(r.d)(Rt(!1))}}function*ta(){yield Object(r.g)(Lt[Xt],ea),yield Object(r.g)(Ut[Xt],Zt)}const aa="organizations",na=K(aa,"list"),[ia,sa,ca,ra]=te(na),[oa,la,da,pa]=Z(na),ha=K(aa,"current"),[ba,ja,ua,ma]=te(ha),[ya,Oa,ga,fa]=Z(ha),xa=K(aa,"update"),[va,Sa,wa,ka]=te(xa),[Ca,Na,Ea,Pa]=Z(xa),La=K(aa,"remove"),[Ia,Ta,Da,Ra]=te(La),[Ma,Ja,za,Aa]=Z(La),Ua=K(aa,"create"),[qa,Ba,Va,Ha]=te(Ua),[Wa,_a,Ga,Fa]=Z(Ua),Qa="organizations",Ya=E("false"),$a=()=>Ot("".concat(Qa),null,Ya),Ka=e=>Ot("".concat(Qa,"/").concat(e),null,Ya),Xa=e=>xt("".concat(Qa,"/").concat(e),null,Ya),Za=(e,t)=>gt("".concat(Qa,"/").concat(e),{name:t},null,Ya),en=e=>ft("".concat(Qa),{name:e},null,Ya),{REQUEST:tn}=R;function*an(e){const{name:t}=e.payload;try{yield Object(r.d)(Ha(!0)),yield Object(r.d)(Va());const e=yield Object(r.b)(en,t);yield Object(r.d)(Ba(e))}catch(a){P(a),yield Object(r.d)(Va(a.message))}finally{yield Object(r.d)(Ha(!1))}}function*nn(e){const{id:t}=e.payload;try{yield Object(r.d)(ma(!0)),yield Object(r.d)(ua());const e=yield Object(r.b)(Ka,t);yield Object(r.d)(ja(e))}catch(a){P(a),yield Object(r.d)(ua(a.message))}finally{yield Object(r.d)(ma(!1))}}function*sn(e){const{id:t}=e.payload;try{yield Object(r.d)(Ra(!0)),yield Object(r.d)(Da());const e=yield Object(r.b)(Xa,t);yield Object(r.d)(Ta(e))}catch(a){P(a),yield Object(r.d)(Da(a.message))}finally{yield Object(r.d)(Ra(!1))}}function*cn(e){const{name:t}=e.payload;try{yield Object(r.d)(ka(!0)),yield Object(r.d)(wa());const e=yield Object(r.b)(Za,t);yield Object(r.d)(Sa(e))}catch(a){P(a),yield Object(r.d)(wa(a.message))}finally{yield Object(r.d)(ka(!1))}}function*rn(){try{yield Object(r.d)(ra(!0)),yield Object(r.d)(ca());const e=yield Object(r.b)($a);yield Object(r.d)(sa(e))}catch(e){P(e),yield Object(r.d)(ca(e.message))}finally{yield Object(r.d)(ra(!1))}}function*on(){yield Object(r.g)(Ua[tn],an),yield Object(r.g)(na[tn],rn),yield Object(r.g)(ha[tn],nn),yield Object(r.g)(La[tn],sn),yield Object(r.g)(xa[tn],cn)}const ln="spaces",dn=K(ln,"list"),[pn,hn,bn,jn]=te(dn),[un,mn,yn,On]=Z(dn),gn=K(ln,"current"),[fn,xn,vn,Sn]=te(gn),[wn,kn,Cn,Nn]=Z(gn),En="spaces",Pn=E("false"),Ln=()=>Ot("".concat(En),null,Pn),In=e=>Ot("".concat(En,"/").concat(e),null,Pn),{REQUEST:Tn}=R;function*Dn(e){const{id:t}=e.payload;try{yield Object(r.d)(Sn(!0)),yield Object(r.d)(vn());const e=yield Object(r.b)(In,t);yield Object(r.d)(xn(e))}catch(a){P(a),yield Object(r.d)(vn(a.message))}finally{yield Object(r.d)(Sn(!1))}}function*Rn(){try{yield Object(r.d)(jn(!0)),yield Object(r.d)(bn());const e=yield Object(r.b)(Ln);yield Object(r.d)(hn(e))}catch(e){P(e),yield Object(r.d)(bn(e.message))}finally{yield Object(r.d)(jn(!1))}}function*Mn(){yield Object(r.g)(dn[Tn],Rn),yield Object(r.g)(gn[Tn],Dn)}const Jn="user",zn=K(Jn,"current"),[An,Un,qn,Bn]=te(zn),[Vn,Hn,Wn,_n]=Z(zn),Gn=K(Jn,"update"),[Fn,Qn,Yn,$n]=te(Gn),[Kn,Xn,Zn,ei]=Z(Gn),ti=K(Jn,"remove"),[ai,ni,ii,si]=te(ti),[ci,ri,oi,li]=Z(ti),di=K(Jn,"login"),[pi,hi,bi,ji]=te(di),[ui,mi,yi,Oi]=Z(di),gi=K(Jn,"logout"),[fi,xi,vi,Si]=te(gi),[wi,ki,Ci,Ni]=Z(gi),Ei=K(Jn,"continue"),[Pi,Li,Ii,Ti]=te(Ei),[Di,Ri,Mi,Ji]=Z(Ei),zi="user",Ai=E("false"),Ui=()=>Ot("".concat(zi),null,Ai),qi=()=>xt("".concat(zi),null,Ai),Bi=(e,t,a)=>gt("".concat(zi),{...e&&{email:e},...t&&{password:t},...a&&{preferences:a}},null,Ai),Vi=(e,t)=>ft("".concat(zi,"/login"),{email:e,password:t}),{REQUEST:Hi}=R,Wi=e=>(e.preferences=C.a.merge({},{markers:!1,predictions:!1,requirement:20,availability:5},(e=>{try{if(C.a.isString(e))return JSON.parse(e)}finally{}return e})(e.preferences)),e);function*_i(){try{yield Object(r.d)(Bn(!0)),yield Object(r.d)(qn());let e=yield Object(r.b)(Ui);e=yield Object(r.b)(Wi,e),yield Object(r.d)(Un(e))}catch(e){P(e),yield Object(r.d)(qn(e.message))}finally{yield Object(r.d)(Bn(!1))}}function*Gi(){try{yield Object(r.d)(si(ne)),yield Object(r.d)(ii()),yield Object(r.b)(qi),yield Object(r.d)(ni(!0))}catch(e){P(e),yield Object(r.d)(ii(e.message))}finally{yield Object(r.d)(si(!1))}}function*Fi(e){const{email:t,password:a,preferences:n}=e.payload;try{yield Object(r.d)($n(ne)),yield Object(r.d)(Yn());const e=yield Object(r.b)(Bi,t,a,n);yield Object(r.d)(Qn(e))}catch(i){P(i),yield Object(r.d)(Yn(i.message))}finally{yield Object(r.d)($n(!1))}}function*Qi(e){const{email:t,password:a}=e.payload;try{yield Object(r.d)(ji(ne)),yield Object(r.d)(bi());const e=yield Object(r.b)(Vi,t,a);yield Object(r.b)(pt,e&&e.token),yield Object(r.d)(hi(e&&e.token)),yield Object(r.b)(_i)}catch(n){P(n),yield Object(r.d)(bi(n.message))}finally{yield Object(r.d)(ji(!1))}}function*Yi(){try{yield Object(r.d)(Si(ne)),yield Object(r.d)(vi()),yield Object(r.b)(pt,null),yield Object(r.d)(ke()),yield Object(r.d)(xi(!0))}catch(e){P(e),yield Object(r.d)(vi(e.message))}finally{yield Object(r.d)(Si(!1))}}function*$i(){try{yield Object(r.d)(Ti(ne)),yield Object(r.d)(Ii());const e=yield Object(r.b)(ht);e&&"invalid"!==e&&(yield Object(r.b)(Ui),yield Object(r.d)(hi(e)),yield Object(r.d)(Li(e)),yield Object(r.b)(_i))}catch(e){P(e),yield Object(r.b)(pt,null),yield Object(r.d)(B(Ii(e.message)))}finally{yield Object(r.d)(Ti(!1))}}function*Ki(){yield Object(r.g)(Ei[Hi],$i),yield Object(r.g)(zn[Hi],_i),yield Object(r.g)(ti[Hi],Gi),yield Object(r.g)(Gn[Hi],Fi),yield Object(r.g)(di[Hi],Qi),yield Object(r.g)(gi[Hi],Yi)}const Xi="users",Zi=K(Xi,"list"),[es,ts,as,ns]=te(Zi),[is,ss,cs,rs]=Z(Zi),os=K(Xi,"current"),[ls,ds,ps,hs]=te(os),[bs,js,us,ms]=Z(os),ys=K(Xi,"update"),[Os,gs,fs,xs]=te(ys),[vs,Ss,ws,ks]=Z(ys),Cs=K(Xi,"remove"),[Ns,Es,Ps,Ls]=te(Cs),[Is,Ts,Ds,Rs]=Z(Cs),Ms=K(Xi,"create"),[Js,zs,As,Us]=te(Ms),[qs,Bs,Vs,Hs]=Z(Ms),Ws="users",_s=E("false"),Gs=()=>Ot("".concat(Ws),null,_s),Fs=e=>Ot("".concat(Ws,"/").concat(e),null,_s),Qs=e=>xt("".concat(Ws,"/").concat(e),null,_s),Ys=(e,t,a,n,i)=>gt("".concat(Ws,"/").concat(e),{...t&&{email:t},...a&&{password:a},...n&&{organizationId:n.id},...i&&{scope:i}},null,_s),$s=(e,t,a,n)=>ft("".concat(Ws),{email:e,password:t,...a&&{organizationId:a.id},scope:n},null,_s),{REQUEST:Ks}=R;function*Xs(e){const{email:t,password:a,organization:n}=e.payload;try{yield Object(r.d)(Us(ne)),yield Object(r.d)(As());const e=yield Object(r.b)($s,t,a,n);yield Object(r.d)(zs(e))}catch(i){P(i),yield Object(r.d)(As(i.message))}finally{yield Object(r.d)(Us(!1))}}function*Zs(e){const{id:t}=e.payload;try{yield Object(r.d)(hs(!0)),yield Object(r.d)(ps());const e=yield Object(r.b)(Fs,t);yield Object(r.d)(ds(e))}catch(a){P(a),yield Object(r.d)(ps(a.message))}finally{yield Object(r.d)(hs(!1))}}function*ec(e){const{id:t}=e.payload;try{yield Object(r.d)(Ls(ne)),yield Object(r.d)(Ps()),yield Object(r.b)(Qs,t),yield Object(r.d)(Es(!0))}catch(a){P(a),yield Object(r.d)(Ps(a.message))}finally{yield Object(r.d)(Ls(!1))}}function*tc(e){const{id:t,email:a,password:n,organization:i,scope:s}=e.payload;try{yield Object(r.d)(xs(ne)),yield Object(r.d)(fs());const e=yield Object(r.b)(Ys,t,a,n,i,s);yield Object(r.d)(gs(e))}catch(c){P(c),yield Object(r.d)(fs(c.message))}finally{yield Object(r.d)(xs(!1))}}function*ac(){try{yield Object(r.d)(ns(!0)),yield Object(r.d)(as());const e=yield Object(r.b)(Gs);yield Object(r.d)(ts(e))}catch(e){P(e),yield Object(r.d)(as(e.message))}finally{yield Object(r.d)(ns(!1))}}function*nc(){yield Object(r.g)(Ms[Ks],Xs),yield Object(r.g)(Zi[Ks],ac),yield Object(r.g)(os[Ks],Zs),yield Object(r.g)(Cs[Ks],ec),yield Object(r.g)(ys[Ks],tc)}const ic="preference",sc=K(ic,"current"),[cc,rc,oc,lc]=te(sc),[dc,pc,hc,bc]=Z(sc),jc=K(ic,"update"),[uc,mc,yc,Oc]=te(jc),[gc,fc,xc,vc]=Z(jc),Sc=()=>new Promise(((e,t)=>{try{const t=window.localStorage.getItem("preference");if(!Object(k.isEmpty)(t))try{e(JSON.parse(t))}catch(a){console.log("Unable to parse the existing preference object: ".concat(t)),P(a)}e({})}catch(a){t(a)}})),wc=e=>new Promise(((t,a)=>{try{window.localStorage.setItem("preference",JSON.stringify(e)),t(e)}catch(n){a(n)}}));var kc=a(65);const{REQUEST:Cc}=R,Nc=e=>e=C.a.merge({},{markers:!1,predictions:!1,requirement:20,availability:5,vehicle:kc.vehicle.Passenger.label,deferred:8},e);function*Ec(){try{yield Object(r.d)(lc(!0)),yield Object(r.d)(oc());let e=yield Object(r.b)(Sc);e=yield Object(r.b)(Nc,e),yield Object(r.d)(rc(e))}catch(e){P(e),yield Object(r.d)(oc(e.message))}finally{yield Object(r.d)(lc(!1))}}function*Pc(e){const t=e.payload;try{yield Object(r.d)(Oc(ne)),yield Object(r.d)(yc());const e=yield Object(r.b)(wc,t);yield Object(r.d)(mc(e)),yield Object(r.b)(Ec)}catch(a){P(a),yield Object(r.d)(yc(a.message))}finally{yield Object(r.d)(Oc(!1))}}function*Lc(){yield Object(r.g)(sc[Cc],Ec),yield Object(r.g)(jc[Cc],Pc)}var Ic=a(99),Tc=a(14),Dc=(a(220),a(229)),Rc=a(221);const Mc=C.a.set({},ie.replace(/\//,"."),{});var Jc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(Mc),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(ae,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(ae,a)?Object(Tc.fromJS)(Mc):a===ie?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):e};const zc="common",Ac=$(zc,"reset-this-only"),Uc=(ee(Ac),$(zc,"notice")),qc=ee(Uc),Bc=X(zc,Uc),{SUCCESS:Vc}=R,Hc={};var Wc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(Hc),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;if(_(zc,a))return e.setIn(a.split("/"),Object(Tc.fromJS)(n));if(((e,t)=>V(t)===e&&H(t)===A)(zc,a)){const t=a.split("/");return t[t.length-1]=Vc,e.setIn(t,Object(Tc.fromJS)(C.a.assign((i=e.getIn(t))&&i.toJS?i.toJS():i,n)))}var i;switch(a){case Ac:return Object(Tc.fromJS)(Hc);case Uc:return e.setIn(a.split("/"),Object(Tc.fromJS)(n));default:return e}};const _c=C.a.set({},Ne.replace(/\//,"."),{});var Gc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(_c),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(Ce,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(Ce,a)?Object(Tc.fromJS)(_c):a===Ne?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):e};const Fc={};var Qc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(Fc),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(Ge,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(Ge,a)?Object(Tc.fromJS)(Fc):e};const Yc={};var $c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(Yc),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(Pt,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(Pt,a)?Object(Tc.fromJS)(Yc):e};const Kc={};var Xc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(Kc),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(aa,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(aa,a)?Object(Tc.fromJS)(Kc):e};const Zc={};var er=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(Zc),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(ln,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(ln,a)?Object(Tc.fromJS)(Zc):e};const tr={};var ar=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(tr),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(Jn,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(Jn,a)?Object(Tc.fromJS)(tr):e};const nr={};var ir=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(nr),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(Xi,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(Xi,a)?Object(Tc.fromJS)(nr):e};const sr={};var cr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Tc.fromJS)(sr),t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;return _(ic,a)?e.setIn(a.split("/"),Object(Tc.fromJS)(n)):W(ic,a)?Object(Tc.fromJS)(sr):e},rr=Object(Rc.combineReducers)({[zc]:Wc,[ic]:cr,[Jn]:ar,[Xi]:ir,[aa]:Xc,[ln]:er,[Pt]:$c,[ae]:Jc,[Ce]:Gc,[Ge]:Qc});var or=a(24),lr=a(27),dr=a(81),pr=a(9);var hr={modal:{},progress:{outline:"none",position:"absolute",left:"50%",top:"50%"}},br=a(467),jr=a(502);class ur extends i.a.Component{render(){const{classes:e,busy:t}=this.props;return t&&Object(N.jsx)(br.a,{open:t,className:e.modal,children:Object(N.jsx)(jr.a,{className:e.progress})})}}ur.defaultProps={busy:!1};var mr=Object(or.b)((e=>{return{busy:(t=ce(e),(t?Object.values(t).filter((e=>e.type===ne)).length:0)>0)};var t}))(Object(pr.a)(hr)(ur)),yr=a(510),Or=a(515),gr=a(516),fr=a(517),xr=a(518),vr=a(519),Sr=a(522),wr=a(505),kr=a(506),Cr=a(507),Nr=a(553),Er=a(551),Pr=a(547),Lr=a(514),Ir=a(233),Tr=a(520),Dr=a(521),Rr=a(508),Mr=a(523),Jr=a(524),zr=a(5),Ar=a(108),Ur=a.n(Ar);const qr=E("false");var Br=e=>({root:{display:"-webkit-box",textAlign:"left",margin:".5em",position:"absolute",left:"0px",zIndex:1e3,[e.breakpoints.down("xs")]:{top:qr?50:0}},title:{marginLeft:".5em",flex:1},card:{width:300,maxWidth:300},actions:{},icons:{padding:0},content:{maxHeight:400,overflow:"auto"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},form:{width:"100%",marginBottom:"20px"},formEntry:{position:"relative"},infoIcon:{position:"absolute",margin:"auto",textAlign:"center",top:"50%",bottom:"50%"},selectAvailability:{width:"120px",marginLeft:"50px"},selectDeferred:{width:"120px",marginLeft:"50px"},timeIcon:{position:"absolute",margin:"auto",marginLeft:"8px",textAlign:"center",top:"50%",bottom:"50%"},truckIcon:{position:"absolute",margin:"auto",marginLeft:"8px",textAlign:"center",top:"50%",bottom:"50%"},labelRequirement:{display:"inline-block",marginLeft:"46px",marginRight:"16px",marginTop:"7px",marginBottom:"7px"},selectRequirement:{width:"120px",marginLeft:"50px"},avatar:{display:"inline-flex"},symbol:{display:"inline-flex",color:S,textShadow:"-1px 0 ".concat(w,", 0 1px ").concat(w,", 1px 0 ").concat(w,", 0 -1px ").concat(w)},label:{marginLeft:"0.5em"},labelAvailable:{marginRight:"16px"},arrowUpward:{transform:"translate(0,10px) scale(1,1.5)",color:f},unknown:{transform:"translate(0,10px) scale(1, 2.5) rotate(90deg)",color:x},arrowDownward:{transform:"translate(0,10px) scale(1,1.5)",color:v}});class Vr extends i.a.Component{constructor(e){super(e),this.isLogin=E("false"),this.isMarkers=E("false"),this.isPredictions=E("false"),this.isDeferred=E("true"),this.isVehicleType=E("true"),this.isVehicleLength=E("false"),this.getLayoutProperty=(e,t)=>{const{mapStyle:a}=this.props;if(a){const{layers:n}=a,i=n.find((t=>t.id===e));return i&&i.layout[t]}},this.setLayoutProperty=(e,t,a)=>{const{mapStyle:n,onMapStyle:i}=this.props;if(n){const s=JSON.parse(JSON.stringify(n)),{layers:c}=s,r=Array.isArray(e)?e:[e];c.filter((e=>r.includes(e.id))).forEach((e=>e.layout[t]=a)),i(s)}},this.updateLayoutProperties=()=>{const{mapStyle:e,onMapStyle:t,user:a,preference:n}=this.props,i=(this.isLogin&&a?a.preferences:n)||{};if(e){const a=JSON.parse(JSON.stringify(e)),{layers:n}=a;[{id:["spaces","spaces-border","spaces-symbol","spaces-polygon","spaces-stroke"],property:"visibility",value:this.isMarkers&&i.markers?"visible":"none"},{id:"predictions",property:"visibility",value:this.isPredictions&&i.predictions?"visible":"none"}].forEach((e=>{let{id:t,property:a,value:i}=e;const s=Array.isArray(t)?t:[t];n.filter((e=>s.includes(e.id))).forEach((e=>e.layout[a]=i))})),t(a)}},this.updateUserPreferences=(e,t)=>{const{user:a}=this.props;if(this.isLogin&&a){const{preferences:n}=a,i=Object(k.cloneDeep)(n),s=Object(k.cloneDeep)(n);s[e]=t,this.props.updateUser({preferences:s}),Object(k.isEqual)(i,s)||this.props.onChange()}else{const{preference:a}=this.props,n=Object(k.cloneDeep)(a),i=Object(k.cloneDeep)(a);i[e]=t,this.props.updatePreference(i),Object(k.isEqual)(n,i)||this.props.onChange()}},this.handleChange=e=>(t,a)=>{switch(e){case"markers":this.setState({[e]:a}),this.setLayoutProperty(["spaces","spaces-border","spaces-symbol","spaces-heatmap"],"visibility",a?"visible":"none"),this.updateUserPreferences(e,a);break;case"predictions":this.setState({[e]:a}),this.setLayoutProperty("predictions","visibility",a?"visible":"none"),this.updateUserPreferences(e,a);break;case"availability":case"requirement":case"vehicle":case"deferred":this.updateUserPreferences(e,t.target.value);break;default:this.setState({[e]:a})}},this.state={expanded:!1}}componentDidMount(){this.props.fetchPreference(),this.updateLayoutProperties()}renderExtraSpaces(){const{classes:e,user:t,preference:a}=this.props,n=this.isLogin&&!(t&&t.scope&&t.scope.includes("user")),i=(this.isLogin&&t?t.preferences:a)||{};return this.isMarkers&&Object(N.jsx)(wr.a,{className:e.form,component:"fieldset",children:Object(N.jsx)(kr.a,{"aria-label":"position",children:Object(N.jsxs)("div",{className:e.formEntry,children:[Object(N.jsx)(Cr.a,{value:"markers",control:Object(N.jsx)(Nr.a,{checked:i.markers,color:"primary",onChange:this.handleChange("markers"),disabled:n}),label:"Display Extra Spaces",labelPlacement:"end"}),Object(N.jsx)(Er.a,{title:"Display extra spaces that do not have real time occupancy ".concat(this.isPredictions?"or prediction ":"","information."),children:Object(N.jsx)(yr.a,{className:e.infoIcon,color:"primary"})})]})})})}renderPredictions(){const{classes:e,user:t,preference:a}=this.props,n=this.isLogin&&!(t&&t.scope&&t.scope.includes("user")),i=(this.isLogin&&t?t.preferences:a)||{};return this.isPredictions&&Object(N.jsx)(wr.a,{className:e.form,component:"fieldset",children:Object(N.jsxs)(kr.a,{"aria-label":"position",children:[Object(N.jsxs)("div",{className:e.formEntry,children:[Object(N.jsx)(Cr.a,{value:"predictions",control:Object(N.jsx)(Nr.a,{checked:i.predictions,color:"primary",onChange:this.handleChange("predictions"),disabled:n}),label:"Display Predictions",labelPlacement:"end"}),Object(N.jsx)(Er.a,{title:"Length of time in the future to display predicted availability of spaces.",children:Object(N.jsx)(yr.a,{className:e.infoIcon,color:"primary"})})]}),Object(N.jsx)("div",{className:e.formEntry,children:Object(N.jsxs)(Pr.a,{className:e.selectAvailability,color:"primary",value:Boolean(i.availability)?i.availability:5,onChange:this.handleChange("availability"),disabled:n||t&&!t.preferences.predictions,children:[Object(N.jsx)(Lr.a,{value:5,children:"5 minutes"}),Object(N.jsx)(Lr.a,{value:15,children:"15 minutes"}),Object(N.jsx)(Lr.a,{value:30,children:"30 minutes"})]})})]})})}renderDeferred(){var e;const{classes:t,user:a,preference:n}=this.props,i=this.isLogin&&!(null!==a&&void 0!==a&&null!==(e=a.scope)&&void 0!==e&&e.includes("user")),s=(this.isLogin&&a?a.preferences:n)||{},c=Ur()().startOf("minutes").get("minutes"),r=Ur()().startOf("minutes").set("minutes",15*Math.floor(c/15)),o=60*r.get("hours")+r.get("minutes");return this.isDeferred&&Object(N.jsx)(wr.a,{className:t.form,component:"fieldset",children:Object(N.jsxs)(kr.a,{"aria-label":"position",children:[Object(N.jsxs)("div",{className:t.formEntry,children:[Object(N.jsx)(Or.a,{className:t.timeIcon,color:"primary"}),Object(N.jsx)(Ir.a,{className:t.labelRequirement,variant:"body1",children:"Time Available"}),Object(N.jsx)(Er.a,{title:"Specific time of the day to determine availability according to space type.",children:Object(N.jsx)(yr.a,{className:t.infoIcon,color:"primary"})})]}),Object(N.jsx)("div",{className:t.formEntry,children:Object(N.jsx)(Pr.a,{className:t.selectDeferred,color:"primary",value:Object(k.isUndefined)(s.deferred)?0:s.deferred,onChange:this.handleChange("deferred"),disabled:i||a&&!a.preferences.deferred,renderValue:e=>r.clone().add(15*e,"minutes").format("hh:mm a"),children:Object(k.range)(0,10).map((e=>Object(N.jsx)(Lr.a,{value:e,children:r.clone().add(15*e,"minutes").format("hh:mm a")},"deferred-item-".concat(o+15*e,"-").concat(e))))},"deferred-select-".concat(o))})]})})}renderVehicleType(){const{classes:e,user:t,preference:a}=this.props,n=this.isLogin&&!(t&&t.scope&&t.scope.includes("user")),i=(this.isLogin&&t?t.preferences:a)||{};return this.isVehicleType&&Object(N.jsx)(wr.a,{className:e.form,component:"fieldset",children:Object(N.jsxs)(kr.a,{"aria-label":"position",children:[Object(N.jsxs)("div",{className:e.formEntry,children:[Object(N.jsx)(gr.a,{className:e.truckIcon,color:"primary"}),Object(N.jsx)(Ir.a,{className:e.labelRequirement,variant:"body1",children:"Vehicle Type"}),Object(N.jsx)(Er.a,{title:"Vehicle type to determine applicable spots for parking.",children:Object(N.jsx)(yr.a,{className:e.infoIcon,color:"primary"})})]}),Object(N.jsx)("div",{className:e.formEntry,children:Object(N.jsxs)(Pr.a,{className:e.selectRequirement,color:"primary",value:i.vehicle?i.vehicle:kc.vehicle.Passenger.label,onChange:this.handleChange("vehicle"),disabled:n,children:[Object(N.jsx)(Lr.a,{value:"All",children:"All"}),Object(N.jsx)(Lr.a,{value:kc.vehicle.Passenger.label,children:"Paid"}),Object(N.jsx)(Lr.a,{value:kc.vehicle.Commercial.label,children:kc.vehicle.Commercial.label}),Object(N.jsx)(Lr.a,{value:kc.vehicle.Transport.label,children:"Bus"})]})})]})})}renderVehicleLength(){const{classes:e,user:t,preference:a}=this.props,n=this.isLogin&&!(t&&t.scope&&t.scope.includes("user")),i=(this.isLogin&&t?t.preferences:a)||{};return this.isVehicleLength&&Object(N.jsx)(wr.a,{className:e.form,component:"fieldset",children:Object(N.jsxs)(kr.a,{"aria-label":"position",children:[Object(N.jsxs)("div",{className:e.formEntry,children:[Object(N.jsx)(gr.a,{className:e.truckIcon,color:"primary"}),Object(N.jsx)(Ir.a,{className:e.labelRequirement,variant:"body1",children:"Vehicle Length"}),Object(N.jsx)(Er.a,{title:"Vehicle length or minimum length of available space required for parking.",children:Object(N.jsx)(yr.a,{className:e.infoIcon,color:"primary"})})]}),Object(N.jsx)("div",{className:e.formEntry,children:Object(N.jsxs)(Pr.a,{className:e.selectRequirement,color:"primary",value:Boolean(i.requirement)?i.requirement:20,onChange:this.handleChange("requirement"),disabled:n,children:[Object(N.jsx)(Lr.a,{value:20,children:"20 feet"}),Object(N.jsx)(Lr.a,{value:25,children:"25 feet"}),Object(N.jsx)(Lr.a,{value:30,children:"30 feet"}),Object(N.jsx)(Lr.a,{value:40,children:"40 feet"}),Object(N.jsx)(Lr.a,{value:50,children:"50 feet"}),Object(N.jsx)(Lr.a,{value:60,children:"60 feet"})]})})]})})}renderLegend(){const{classes:e,user:t,preference:a}=this.props,n=this.isLogin&&!(t&&t.scope&&t.scope.includes("user")),i=(this.isLogin&&t?t.preferences:a)||{};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:e.formEntry,children:[Object(N.jsx)(fr.a,{className:Object(zr.a)(e.avatar,e.arrowUpward)}),Object(N.jsx)(Ir.a,{className:Object(zr.a)(e.avatar,e.label,e.labelAvailable),children:n||!i.predictions?"Parking Available":"Open parking highly likely"}),Object(N.jsx)(Er.a,{title:n||!i.predictions?Object(N.jsxs)("span",{children:[Object(N.jsx)("p",{children:"Gray: The space does not have real time status available."}),Object(N.jsx)("p",{children:"Green: There is currently enough space available to park."}),Object(N.jsx)("p",{children:"Yellow: There may be enough space available to park."}),Object(N.jsx)("p",{children:"Red: There is currently not enough space available to park."})]}):Object(N.jsxs)("span",{children:[Object(N.jsx)("p",{children:"Gray: The space does not have real time status available."}),Object(N.jsx)("p",{children:"Green: It is likely that enough space will be available to park."}),Object(N.jsx)("p",{children:"Yellow: It is likely that the entire space will be open, but there is not enough total space to park. There may be enough room to park if adjoining sections are open."}),Object(N.jsx)("p",{children:"Red: It is likely that there will not be enough space available to park."})]}),children:Object(N.jsx)(yr.a,{className:e.infoIcon,color:"primary"})})]}),Object(N.jsxs)("div",{className:e.formEntry,children:[Object(N.jsx)(xr.a,{className:Object(zr.a)(e.avatar,e.unknown)}),Object(N.jsx)(Ir.a,{className:Object(zr.a)(e.avatar,e.label)})]}),Object(N.jsxs)("div",{className:e.formEntry,children:[Object(N.jsx)(vr.a,{className:Object(zr.a)(e.avatar,e.arrowDownward)}),Object(N.jsx)(Ir.a,{className:Object(zr.a)(e.avatar,e.label),children:n||!i.predictions?"Parking Unavailable":"Open parking unlikely"})]})]})}render(){const{classes:e}=this.props,{expanded:t}=this.state;return Object(N.jsx)("div",{className:e.root,children:Object(N.jsxs)(Tr.a,{className:e.card,children:[Object(N.jsxs)(Dr.a,{className:e.actions,children:[Object(N.jsx)(Ir.a,{variant:"body1",className:e.title,children:"Dynacurb Parking App"}),Object(N.jsx)(Rr.a,{className:Object(zr.a)(e.icons,e.expand,{[e.expandOpen]:t}),onClick:e=>this.handleChange("expanded")(e,!t),"aria-expanded":t,"aria-label":"show more",children:Object(N.jsx)(Sr.a,{})})]}),Object(N.jsx)(Mr.a,{in:t,timeout:"auto",unmountOnExit:!0,children:Object(N.jsxs)(Jr.a,{className:e.content,children:[this.renderExtraSpaces(),this.renderPredictions(),this.renderDeferred(),this.renderVehicleType(),this.renderVehicleLength(),this.renderLegend()]})})]})})}}const Hr={fetchPreference:cc,updatePreference:uc,updateUser:Fn};var Wr=Object(or.b)((e=>({preference:dc(e),user:Vn(e)})),Hr)(Object(pr.a)(Br)(Vr));var _r={content:{padding:"0 24px 4px 24px"}},Gr=a(525),Fr=a(526),Qr=a(527),Yr=a(528),$r=a(529);class Kr extends i.a.Component{constructor(){super(...arguments),this.handleClick=e=>()=>{null!=e.onClick&&e.onClick()}}render(){const{classes:e,title:t,children:a,buttons:n,open:i,busy:s,fullScreen:c,fullWidth:r}=this.props;return Object(N.jsxs)(Gr.a,{fullScreen:!!c,fullWidth:!!r,maxWidth:"lg",open:i,"aria-labelledby":"form-dialog-title",children:[Object(N.jsx)(Fr.a,{id:"form-dialog-title",children:t}),Object(N.jsx)(Qr.a,{className:e.content,children:a}),Object(N.jsxs)(Yr.a,{children:[s?Object(N.jsx)(jr.a,{}):null,n&&n.map((e=>Object(N.jsx)($r.a,{onClick:this.handleClick(e),variant:e.variant,color:"primary",disabled:e.disabled,children:e.label},e.label)))]})]})}}Kr.defaultProps={open:!1};var Xr=Object(pr.a)(_r)(Kr);var Zr={root:{height:"0px",bottom:0,top:"auto"}},eo=a(530),to=a(555),ao=a(532);class no extends i.a.Component{constructor(){super(...arguments),this.handleClear=e=>()=>{this.props.clearError(e)}}render(){const{classes:e,errors:t}=this.props,a=t&&Object.keys(t).filter((e=>!t[e].cleared)).sort(((e,a)=>t[e].timestamp-t[a].timestamp)).find((()=>!0)),n=t&&a&&t[a];return Object(N.jsxs)(i.a.Fragment,{children:[Object(N.jsx)(eo.a,{position:"fixed",color:"primary",className:e.root}),Object(N.jsx)(to.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},ContentProps:{style:{background:b}},open:null!==n&&void 0!==n,autoHideDuration:Math.min(Math.max(100*(n&&n.error?n.error.length:0),5e3),15e3),onClose:this.handleClear(a),message:n&&n.error,action:Object(N.jsx)(i.a.Fragment,{children:Object(N.jsx)(Rr.a,{size:"small","aria-label":"clear",color:"inherit",onClick:this.handleClear(a),children:Object(N.jsx)(ao.a,{fontSize:"small"})})})})]})}}const io={clearError:Ie};var so=Object(or.b)((e=>({errors:Pe(e)})),io)(Object(pr.a)(Zr)(no));var co={root:{display:"-webkit-inline-box",textAlign:"right",margin:"1em",position:"absolute",right:"0px",zIndex:1e3},space:{paddingRight:".5em"},icon:{paddingTop:".1em"},title:{paddingTop:".1em",paddingLeft:".1em",paddingRight:".5em"},button:{}},ro=a(142),oo=a(533);class lo extends i.a.Component{constructor(){super(...arguments),this.findUsername=()=>{const{user:e}=this.props;return e?""===e.scope?"":e.email:"Unknown"},this.findButtonText=()=>{const{user:e}=this.props;return e?""===e.scope?"Sign in for Predictions":"Log Out":"Sign In"},this.handleLogout=()=>{this.props.logoutUser()}}render(){const{classes:e}=this.props;return Object(N.jsxs)(ro.a,{className:e.root,children:[Object(N.jsx)("div",{className:e.space}),Object(N.jsx)(oo.a,{className:e.icon}),Object(N.jsx)(Ir.a,{variant:"body1",className:e.title,children:this.findUsername()}),Object(N.jsx)($r.a,{variant:"text",size:"small",className:e.button,onClick:this.handleLogout,children:this.findButtonText()})]})}}const po={logoutUser:fi};var ho=Object(or.b)((e=>({user:Vn(e)})),po)(Object(pr.a)(co)(lo)),bo=a(552);var jo=e=>({root:{display:"flex"},content:{flexGrow:1},view:{overflow:"hidden"},toolbar:e.mixins.toolbar});class uo extends i.a.Component{constructor(){super(...arguments),this.state={error:null,info:null},this.isLogin=E("false"),this.updatePageSize=()=>{this.forceUpdate()}}componentDidMount(){window.addEventListener("resize",this.updatePageSize)}componentWillUnmount(){window.removeEventListener("resize",this.updatePageSize)}componentDidCatch(e,t){this.setState({error:e,info:t})}render(){const{classes:e,page:t,theme:a}=this.props,{error:n}=this.state;if(n)return Object(N.jsx)(lr.a,{push:!0,to:"/error?message=".concat(n.message)});const i=Math.max(document.documentElement.clientHeight)-a.mixins.toolbar.minHeight-1;return Object(N.jsxs)("div",{className:e.root,children:[this.isLogin&&Object(N.jsx)(ho,{page:t}),Object(N.jsxs)("div",{className:e.content,children:[Object(N.jsx)("div",{className:e.toolbar}),Object(N.jsx)("div",{className:Object(zr.a)(e.view),style:{height:i},children:this.props.children})]}),Object(N.jsx)(so,{}),Object(N.jsx)(mr,{})]})}}var mo=Object(or.b)((e=>({})),{})(Object(bo.a)(Object(pr.a)(jo)(uo)));var yo={form:{},padding:{marginTop:"1em"},text:{marginTop:".5em",width:"100%"}},Oo=a(534),go=a(548),fo=a(535),xo=a(549);class vo extends i.a.Component{constructor(){super(...arguments),this.state={tab:0,email:"",password:"",confirm:""},this.validate=()=>{const{email:e,password:t,confirm:a,tab:n}=this.state;switch(n){case 0:return e&&t;case 1:return e&&t&&t===a;default:return!1}},this.handleLogin=()=>{if(this.validate()){const{email:e,password:t}=this.state;this.props.loginUser({email:e,password:t}),this.setState({password:"",confirm:""})}},this.handleCreate=()=>{if(this.validate()){const{email:e,password:t}=this.state;this.props.createUser({email:e,password:t}),this.setState({tab:0,password:"",confirm:""})}},this.handleGuest=()=>{this.props.loginUser({email:"guest.parking@pnnl.gov",password:"guest"}),this.setState({password:"",confirm:""})},this.handleChange=e=>(t,a)=>{this.setState({[e]:t.target&&t.target.value?t.target.value:a})},this.handleRef=e=>{this.dialog=e},this.buttons=()=>{const{tab:e}=this.state;switch(e){case 0:return[{label:"Sign In",disabled:!this.validate(),variant:"contained",onClick:this.handleLogin},{label:"Continue as Guest",disabled:!1,variant:"text",onClick:this.handleGuest}];case 1:return[{label:"Submit",disabled:!this.validate(),variant:"contained",onClick:this.handleCreate}];default:return[]}}}componentDidMount(){const{continueUser:e}=this.props;e()}render(){const{classes:e,auth:t}=this.props,{email:a,password:n,confirm:i,tab:s}=this.state;return t?null:Object(N.jsxs)(El,{children:[Object(N.jsx)(Xr,{fullScreen:!1,fullWidth:!0,open:!t,title:"",buttons:this.buttons(),children:Object(N.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(Oo.a,{container:!0,spacing:0,children:[Object(N.jsx)(Oo.a,{item:!0,xs:12,children:Object(N.jsxs)(go.a,{value:s,onChange:this.handleChange("tab"),children:[Object(N.jsx)(fo.a,{label:"Sign In",value:0}),Object(N.jsx)(fo.a,{label:"New Account",value:1})]})}),Object(N.jsx)(Oo.a,{item:!0,xs:12,className:e.padding}),Object(N.jsx)(Oo.a,{item:!0,xs:12,children:Object(N.jsx)(xo.a,{id:"email",label:"Login Email",className:e.text,value:a,onChange:this.handleChange("email"),margin:"none"})}),Object(N.jsx)(Oo.a,{item:!0,xs:12,children:Object(N.jsx)(xo.a,{id:"password",label:"Password",className:e.text,value:n,onChange:this.handleChange("password"),type:"password",margin:"none"})}),1===s&&Object(N.jsx)(Oo.a,{item:!0,xs:12,children:Object(N.jsx)(xo.a,{id:"confirm",label:"Confirm Password",className:e.text,value:i,onChange:this.handleChange("confirm"),type:"password",margin:"none"})}),Object(N.jsx)(Oo.a,{item:!0,xs:12,className:e.padding})]})})}),Object(N.jsx)(so,{})]})}}const So={continueUser:Pi,loginUser:pi,createUser:Js};var wo=Object(or.b)((e=>({auth:ui(e),created:qs(e)})),So)(Object(pr.a)(yo)(vo)),ko=a(556),Co=a(513),No=a(465),Eo=a(540),Po=a(557),Lo=a(538),Io=a(139),To=a.n(Io);class Do{static getInstance(){return Do.instance||(Do.instance=new Do),Do.instance}constructor(){var e=this;this.initialize=()=>{this._initialized||Object(k.isEmpty)("G-8V5SBMSYK5")||(To.a.initialize("G-8V5SBMSYK5"),this._initialized=!0)},this.pageview=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e._initialized?To.a.send({hitType:"pageview",page:"".concat(t).concat(a),title:"Page View"}):console.log("Analytics Debug Page View: ".concat(t).concat(a))},this.event=function(t,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e._initialized?To.a.event({category:t,action:a,label:n}):console.log("Analytics Debug Event: ".concat(t," -> ").concat(a).concat(n?" ("+n+")":""))},this._initialized=!1,this.initialize()}}class Ro extends i.a.Component{constructor(){super(...arguments),this.isNotice=E("true"),this.isLogin=E("false")}componentDidMount(){var e;const{page:t}=this.props;Do.getInstance().pageview(null!==(e=null===t||void 0===t?void 0:t.path)&&void 0!==e?e:"/unknown")}render(){const{notice:e,user:t,page:a,renderRoute:n}=this.props;return this.isNotice&&!e?Object(N.jsx)(pl,{}):this.isLogin&&a.user&&!t?Object(N.jsx)(wo,{}):n(this.props)}}var Mo=Object(or.b)((e=>({notice:Bc(e),user:Vn(e)})),{})(Ro),Jo=a(531),zo=a(536),Ao=a(537),Uo=a(137),qo=a.n(Uo);var Bo={success:{backgroundColor:g},error:{backgroundColor:j},info:{backgroundColor:O},warning:{backgroundColor:m},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:"1em"},message:{width:"100%",display:"flex",textAlign:"left"},snackbar:{display:"inline-block"},center:{textAlign:"center",height:"100%"},pad:{padding:80}};const Vo={success:zo.a,warning:Ao.a,error:Lo.a,info:yr.a};class Ho extends i.a.Component{constructor(){super(...arguments),this.state={message:""}}componentDidMount(){const{location:e}=this.props,t=qo.a.parse(e.search);C.a.isEmpty(t.message)||this.setState({message:t.message})}render(){const{variant:e,label:t,classes:a}=this.props,{message:n}=this.state,i=Vo[e];return Object(N.jsx)("div",{className:Object(zr.a)(a.center,a.pad),children:Object(N.jsx)(Jo.a,{className:Object(zr.a)(a[e],a.snackbar),"aria-describedby":"client-snackbar",message:Object(N.jsxs)("span",{id:"client-snackbar",className:a.message,children:[Object(N.jsx)(i,{className:Object(zr.a)(a.icon,a.iconVariant)}),t,Object(N.jsx)("br",{}),n]})})})}}Ho.defaultProps={variant:"error",label:"Parking has encountered an error."};var Wo=Object(lr.g)(Object(pr.a)(Bo)(Ho));var _o={sequence:100,name:"Error",label:"Error",path:"/error",hidden:!0,element:e=>Object(N.jsx)(Mo,{...e,renderRoute:e=>Object(N.jsx)(mo,{...e,children:Object(N.jsx)(Wo,{...e})})}),icon:Lo.a};var Go={success:{backgroundColor:g},error:{backgroundColor:j},info:{backgroundColor:O},warning:{backgroundColor:m},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:"1em"},message:{width:"100%",display:"flex",textAlign:"left"},snackbar:{display:"inline-block"},center:{textAlign:"center",height:"100%"},pad:{padding:80}};const Fo={success:zo.a,warning:Ao.a,error:Lo.a,info:yr.a};class Qo extends i.a.Component{constructor(){super(...arguments),this.state={message:"Uh oh, the page you requested could not be found."}}componentDidMount(){const{location:e}=this.props,t=qo.a.parse(e.search);C.a.isEmpty(t.message)||this.setState({message:t.message})}render(){const{variant:e,label:t,classes:a}=this.props,{message:n}=this.state,i=Fo[e];return Object(N.jsx)("div",{className:Object(zr.a)(a.center,a.pad),children:Object(N.jsx)(Jo.a,{className:Object(zr.a)(a[e],a.snackbar),"aria-describedby":"client-snackbar",message:Object(N.jsxs)("span",{id:"client-snackbar",className:a.message,children:[Object(N.jsx)(i,{className:Object(zr.a)(a.icon,a.iconVariant)}),t,Object(N.jsx)("br",{}),n]})})})}}Qo.defaultProps={variant:"info",label:"Parking page not found."};var Yo=Object(lr.g)(Object(pr.a)(Go)(Qo));var $o={sequence:1e3,name:"NotFound",label:"Not Found",path:"*",hidden:!0,element:e=>Object(N.jsx)(Mo,{...e,renderRoute:e=>Object(N.jsx)(mo,{...e,children:Object(N.jsx)(Yo,{...e})})}),icon:Lo.a},Ko=a(539),Xo=(a(462),a(110));var Zo={popup:{"& div.mapboxgl-popup-content":{borderRadius:"10px"}},available:{"& div.mapboxgl-popup-content":{border:"3px solid ".concat(f)}},unknown:{"& div.mapboxgl-popup-content":{border:"3px solid ".concat(x)}},spaces:{"& div.mapboxgl-popup-content":{border:"3px solid ".concat("#9b9b9b")}},occupied:{"& div.mapboxgl-popup-content":{border:"3px solid ".concat(v)}},indeterminate:{"& div.mapboxgl-popup-content":{border:"3px solid ".concat(u)}},popupHeader:{display:"flex"},popupSpacer:{flex:"1 0 auto"}};class el extends i.a.Component{constructor(e){super(e),this.isLogin=E("false"),this.isAuthenticate=E("false"),this.isPredictions=E("false"),this.templateFormat=(e,t)=>e.replace(/{([^{}]+)}/g,((e,a)=>Object(k.get)(t,a,"{".concat(a,"}")))),this.transformRequest=(e,t)=>{const{auth:a}=this.props;switch(t){case"Source":case"Style":case"Tile":case"Glyphs":return{url:e,redirect:"manual",...this.isAuthenticate?{credentials:"include",headers:{Authorization:"Token ".concat(a),"Cache-Control":"no-store"}}:{headers:{"Cache-Control":"no-store"}}};default:return{url:e}}},this.handleChange=e=>t=>{const{viewport:a}=this.state;if("viewport"===e){if(void 0!==t.zoom){let e=t.zoom;e=Math.min(16.5,e),e=Math.max(5.5,e),e!==t.zoom&&e===a.zoom&&[16.5,5.5].includes(e)&&(t.latitude=a.latitude,t.longitude=a.longitude),t.zoom=e}this.setState({[e]:t},this.querySourceDataDebounced())}this.setState({[e]:t})},this.handleLoad=e=>{console.log("Map-GL finished initial loading."),this.querySourceDataDebounced()},this.handleViewStateChange=()=>{this.setState({popupInfo:null})},this.handleError=e=>{console.error(e)},this.handleMapStyle=e=>{this.querySourceDataDebounced()},this.handleClick=e=>{this.handleMouseDown(e)},this.handleMouseMove=e=>{this.handleMouseDown(e)},this.handleMouseDown=e=>{const t=this.map.current&&this.map.current.getMap();if(t){const a=t.queryRenderedFeatures([e.center.x,e.center.y],{});if(a.length>0){const t=a[0],n=t.layer.id&&t.layer.id.split("-")[0];switch(n){case"spaces":case"indeterminate":case"available":case"unknown":case"occupied":const a={longitude:e.lngLat[0],latitude:e.lngLat[1],layer:n,properties:t.properties};Object.keys(a.properties).forEach((e=>a.properties[e]="null"===a.properties[e]?null:"string"===typeof a.properties[e]?a.properties[e].replace("_"," "):a.properties[e])),this.setState({popupInfo:a})}}else this.setState({popupInfo:null})}},this.isAuthenticated=()=>{const{auth:e}=this.props,{mapStyle:t}=this.state;return(!this.isAuthenticate||e)&&t},this.map=i.a.createRef(),this.state={width:0,height:0,viewport:{latitude:47.61344885026525,longitude:-122.34430506224587,zoom:15,bearing:0,pitch:0},mapStyle:e.mapStyle},this.updateWindowDimensions=this.updateWindowDimensions.bind(this),this.querySourceData=this.querySourceData.bind(this),this.querySourceDataDebounced=Object(k.debounce)(this.querySourceData,500)}static getDerivedStateFromProps(e,t){return!t.mapStyle&&e.mapStyle?{mapStyle:e.mapStyle}:null}componentDidMount(){const{fetchMapStyle:e}=this.props;this.props.fetchPreference(),e(),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions);const t=window.setInterval(this.querySourceDataDebounced,parseInt("30000"));this.setState({intid:t})}componentWillUnmount(){const{intid:e}=this.state;window.clearInterval(e),window.removeEventListener("resize",this.updateWindowDimensions)}updateWindowDimensions(){this.setState({width:window.innerWidth,height:window.innerHeight})}querySourceData(){if(this.map&&this.map.current){const{viewport:e}=this.state,{user:t,preference:a}=this.props,{longitude:n,latitude:i,zoom:s}=e,c=(this.isLogin&&t?t.preferences:a)||{},r=this.isPredictions&&Object(k.get)(c,"predictions",!1),o=this.map.current.getMap();if(o&&o.getStyle){const e=o.getBounds(),t=Object(k.get)(c,"availability",5),a=Object(k.get)(c,"requirement",20),l=Object(k.get)(c,"vehicle",kc.vehicle.Passenger.label),d=Object(k.get)(c,"deferred",8),p=Ur()().valueOf(),h={x:n,y:i,z:s,n:e._ne.lat,e:e._ne.lng,s:e._sw.lat,w:e._sw.lng,r:a,a:t,v:l,d:d,latitude:i,longitude:n,zoom:s,bounds:[e._sw.lng,e._sw.lat,e._ne.lng,e._ne.lat],requirement:a,availability:t,vehicle:l,deferred:d,uuid:p};["occupancies","spaces","clustered"].forEach((e=>{const t=o.getSource(e);let a=t._options.data;a=this.templateFormat(a,h),"occupancies"===e&&r&&(a=a.replace("occupancies","predictions")),t.setData(a)}))}}}renderPopup(){const{classes:e,user:t,preference:a}=this.props,n=(this.isLogin&&t?t.preferences:a)||{},i=Object(k.get)(n,"predictions",!1),s=Object(k.get)(n,"availability",5),{popupInfo:c}=this.state,{state:r,sensors:o,precise:l,current:d,available:p,required:h,shapeLength:b,occupancies:j,occupancy:u,predictions:m,prediction:y,blockId:O,blockfaceId:g,cvlzId:f,spaceType:x,spaceTyped:v}=c?c.properties:{};let S=0;Object(k.isArray)(o)?S=o.length:Object(k.isNumber)(o)?S=o:Object(k.isString)(o)&&(S=JSON.parse(o).length);const w=j?S-u:0,C=b/Math.max(1,S),E=w<S?C*Math.ceil(w/2):C*w,P=C*w,L={min:E,max:P};if(j&&m&&i)if(Object(k.isNumber)(y)){const e=S-y,t=e<S?C*Math.ceil(e/2):C*e,a=C*e;L.min=t,L.max=a}else L.unavailable=!0;return c&&Object(N.jsxs)(Xo.b,{className:Object(zr.a)(e.popup,e[c.layer]),tipSize:5,anchor:"top",longitude:c.longitude,latitude:c.latitude,closeButton:!1,children:[Object(N.jsxs)("div",{className:e.popupHeader,children:[Object(N.jsx)("div",{className:e.popupSpacer}),Object(N.jsx)(Rr.a,{size:"small","aria-label":"clear",color:"inherit",onClick:()=>this.setState({popupInfo:null}),children:Object(N.jsx)(ao.a,{fontSize:"small"})})]}),!1,Object(N.jsx)(Ir.a,{children:"".concat(x,": ").concat(v)}),Object(N.jsx)(Ir.a,{children:"".concat(Math.round(b)," ft total length")}),j?l?Object(N.jsx)(Ir.a,{children:"".concat(Math.round(d)," ft available now")}):Object(k.isEqual)(E,P)?Object(N.jsx)(Ir.a,{children:"".concat(Math.round(E)," ft available now")}):Object(N.jsx)(Ir.a,{children:"".concat(Math.round(E)," to ").concat(Math.round(P)," ft available now")}):Object(N.jsx)(Ir.a,{children:"No occupancy data available"}),i?!m||L.unavailable?Object(N.jsx)(Ir.a,{children:"No prediction data available"}):l?Object(N.jsx)(Ir.a,{children:"".concat(Math.round(p)," ft available within ").concat(s," minutes")}):Object(k.isEqual)(L.min,L.max)?Object(N.jsx)(Ir.a,{children:"".concat(Math.round(L.min)," ft available within ").concat(s," minutes")}):Object(N.jsx)(Ir.a,{children:"".concat(Math.round(L.min)," to ").concat(Math.round(L.max)," ft available within ").concat(s," minutes")}):null]})}render(){const{mapStyle:e,viewport:t,width:a,height:n}=this.state;return Object(N.jsx)(Oo.a,{container:!0,alignContent:"center",justifyContent:"center",spacing:0,children:Object(N.jsx)(Oo.a,{item:!0,xs:12,children:this.isAuthenticated()&&Object(N.jsxs)(Xo.d,{ref:this.map,...t,width:a,height:n,mapStyle:e,onViewportChange:this.handleChange("viewport"),onViewStateChange:this.handleViewStateChange,onLoad:this.handleLoad,onError:this.handleError,onMapStyle:this.handleMapStyle,onMouseDown:this.handleMouseDown,onClick:this.handleClick,transformRequest:this.transformRequest,disableTokenWarning:!0,mapOptions:{userProperties:!0,customAttribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},children:[this.renderPopup(),Object(N.jsx)(Wr,{mapStyle:e,onMapStyle:this.handleChange("mapStyle"),onChange:this.querySourceDataDebounced}),Object(N.jsx)(Xo.a,{style:{position:"absolute",left:".5em",bottom:".5em"},positionOptions:{enableHighAccuracy:!0},showUserLocation:!0}),Object(N.jsx)(Xo.c,{style:{position:"absolute",left:"3em",bottom:".5em"},unit:"imperial"})]})})})}}const tl={fetchPreference:cc,updatePreference:uc,fetchMapStyle:nt};var al=Object(or.b)((e=>({auth:ui(e),mapStyle:rt(e),preference:dc(e),user:Vn(e)})),tl)(Object(pr.a)(Zo)(el));const nl=[{sequence:10,name:"Parking",label:"Parking",path:"/",exact:!0,element:e=>Object(N.jsx)(Mo,{...e,renderRoute:e=>Object(N.jsx)(mo,{...e,children:Object(N.jsx)(al,{...e})})}),icon:Ko.a,user:!0},$o,_o].sort(((e,t)=>e.sequence-t.sequence)).map(((e,t)=>({...e,index:t})));class il extends i.a.Component{render(){return Object(N.jsx)($r.a,{component:dr.b,...this.props})}}var sl=il;var cl=e=>({root:{zIndex:e.zIndex.drawer},drawer:{zIndex:"+1"},toolbar:e.mixins.toolbar,list:{marginTop:"0px"},listItemNotSelected:{marginLeft:"5px",paddingTop:"10px",paddingBottom:"10px"},listItemSelected:{color:d,background:l,textTransform:"none",borderLeft:"5px solid ".concat(p),borderRadius:"0px",paddingTop:"10px",paddingBottom:"10px"},listItemIcon:{minWidth:"50px"},listItemText:{textTransform:"none",marginTop:"0px",marginBottom:"0px"},noPadding:{padding:0},noStyle:{display:"block",padding:0,textTransform:"unset"}});class rl extends i.a.Component{constructor(e){super(e),this.handleChange=e=>(t,a)=>{this.setState({[e]:a})};const{page:t}=e;this.home=t&&"/"===t.path,this.state={open:!0,windowWidth:window.innerWidth}}render(){const{classes:e,page:t,user:a}=this.props,{open:n}=this.state,s=t&&t.name,c=nl.filter((e=>!e.hidden&&(!e.admin||e.admin&&a&&a.CanEditAccounts))),r=t.indent?200:50,o=t.indent?250:70;return Object(N.jsxs)(ko.a,{className:e.drawer,style:{width:"".concat(o-20,"px")},variant:"persistent",anchor:"left",open:n,PaperProps:{style:{width:"".concat(r,"px"),overflow:"hidden"}},children:[Object(N.jsx)("div",{className:e.toolbar}),Object(N.jsx)(Co.a,{component:"nav",className:e.list,children:c.map((t=>{const a=t.icon,n=t.name===s;return Object(N.jsx)(No.a,{button:!0,disableGutters:!0,className:Object(zr.a)(n?e.listItemSelected:e.listItemNotSelected),component:(c=t.label,i.a.forwardRef(((e,t)=>Object(N.jsx)(sl,{...e,"aria-label":c,ref:t,children:e.children})))),to:t.path,onClick:this.handleChange("route"),children:Object(N.jsx)(i.a.Fragment,{children:Object(N.jsx)(Er.a,{title:t.label,children:Object(N.jsx)(Eo.a,{children:Object(N.jsx)(a,{color:n?"primary":"inherit"})},"list-item-icon-".concat(t.name))})})},"list-item-".concat(t.name));var c}))})]})}}Object(or.b)((e=>({user:Vn(e)})),{})(Object(Po.a)()(Object(pr.a)(cl)(rl)));var ol={error:{fontSize:".8rem"}};class ll extends n.Component{constructor(){super(...arguments),this.handleAcknowledge=()=>{this.props.setNotice("viewed")},this.buttons=()=>[{disabled:!1,label:"Acknowledge",onClick:this.handleAcknowledge,type:"primary"}]}componentDidMount(){this.props.continueUser()}render(){const{notice:e}=this.props;return e?null:Object(N.jsx)(Xr,{title:"Dynacurb Parking App",maxWidth:"md",open:!e,buttons:this.buttons(),children:Object(N.jsxs)(i.a.Fragment,{children:[Object(N.jsx)(Ir.a,{variant:"h6",children:"Clicking the acknowledgement button below confirms:"}),Object(N.jsx)(Ir.a,{variant:"subtitle1",children:"\u2022 You will not use this application while operating a vehicle."}),Object(N.jsx)(Ir.a,{variant:"subtitle1",children:"\u2022 This is an experimental/prototype application designed to assist drivers in locating available parking spots more quickly."}),Object(N.jsx)(Ir.a,{variant:"subtitle1",children:"\u2022 Parking availability predictions are based upon past occupancy patterns and no accuracy guarantees are made."}),Object(N.jsx)(Ir.a,{variant:"subtitle1",children:"\u2022 This is not a reservation system and spots are filled on a first come, first serve basis."}),Object(N.jsx)(Ir.a,{variant:"subtitle1",children:"\u2022 Authorized commercial use of this application is limited to drivers who have received prior approval from their employer."})]})})}}const dl={continueUser:Pi,setNotice:qc};var pl=Object(or.b)((e=>({notice:Bc(e)})),dl)(Object(pr.a)(ol)(ll));var hl={stepper:{flex:"1 0 auto",background:"transparent"}},bl=a(541),jl=a(558),ul=a(543),ml=a(550),yl=a(542),Ol=a(544);class gl extends i.a.Component{constructor(e){super(e),this.notifyStepChange=e=>{null!=this.props.onStepChange&&this.props.onStepChange(e)},this.handleNext=()=>{const e=this.state.step+1;this.setState({step:e}),this.notifyStepChange(e)},this.handleBack=()=>{const e=this.state.step-1;this.setState({step:e}),this.notifyStepChange(e)},this.handleReset=()=>{this.setState({step:0}),this.notifyStepChange(0)},this.state={step:e.step}}render(){const{steps:e,disabled:t,classes:a,width:n}=this.props,{step:i}=this.state;var s=!1;switch(n){case"xs":case"sm":s=!0;break;default:s=!1}return Object(N.jsxs)(bl.a,{children:[Object(N.jsx)($r.a,{style:{minWidth:s?16:64},disabled:0===i||-1!==t.indexOf(i-1),onClick:this.handleBack.bind(this),color:"secondary",variant:"contained",children:s?Object(N.jsx)(yl.a,{}):"Back"}),Object(N.jsx)(jl.a,{activeStep:i,className:a.stepper,children:e.map((function(e,t){return Object(N.jsx)(ul.a,{children:Object(N.jsx)(ml.a,{children:e.name})},e.name)}))}),Object(N.jsx)($r.a,{style:{minWidth:s?16:64},disabled:i===e.length-1||-1!==t.indexOf(i+1),onClick:this.handleNext.bind(this),color:"secondary",variant:"contained",children:s?Object(N.jsx)(Ol.a,{}):"Next"})]})}}gl.defaultProps={disabled:[]};Object(Po.a)()(Object(pr.a)(hl)(gl));var fl=a(545);var xl={},vl=a(546),Sl=a(228);const wl={MuiCssBaseline:{"@global":{body:{backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundAttachment:"fixed"}}},MuiStepIcon:{root:{"&$completed":{color:p},"&$active":{color:p}},active:{},completed:{}},MuiList:{root:{width:"100%"},padding:{paddingTop:"0",paddingBottom:"0"}},MuiExpansionPanelSummary:{root:{padding:"0 16px 0 16px"}},MuiExpansionPanelDetails:{root:{padding:"0"}}},kl={type:"light",primary:{main:d,contrastText:S},secondary:{main:p,contrastText:S},error:{main:b,contrastText:S},background:{paper:"#ffffff",default:l}};var Cl=Object(Sl.a)({mixins:{toolbar:{minHeight:0,"@media (min-width:0px) and (orientation: landscape)":{minHeight:0},"@media (min-width:600px)":{minHeight:0}}},typography:{useNextVariants:!0},overrides:wl,palette:kl,name:"Yellow Orange Science Blue Spectacled Bear"});class Nl extends i.a.Component{render(){return Object(N.jsx)(i.a.Fragment,{children:Object(N.jsxs)(fl.a,{theme:Cl,children:[Object(N.jsx)(vl.a,{}),this.props.children]})})}}var El=Object(pr.a)(xl)(Nl);const Pl=function(e){const t=Object(Dc.a)();let a=null,n=[];return n=[t],a=Object(Ic.applyMiddleware)(...n),{...Object(Ic.createStore)(rr,Object(Tc.fromJS)(e),a),runSaga:t.run}}(window.REDUX_INITIAL_DATA);Pl.runSaga((function*(){yield Object(r.a)([Se(),Lc(),Ki(),nc(),on(),Mn(),ta(),ve(),_e(),Et()])}));class Ll extends i.a.Component{constructor(){super(...arguments),this.renderRoute=e=>{const t=e.element;return Object(N.jsx)(lr.b,{exact:e.exact,path:e.path,render:()=>Object(N.jsx)(t,{page:Object(k.omit)(e,["element"])})},"route-".concat(e.name))}}render(){return Object(N.jsx)(or.a,{store:Pl,children:Object(N.jsx)(El,{children:Object(N.jsx)(dr.a,{children:Object(N.jsx)(lr.d,{children:nl.map((e=>this.renderRoute(e)))})})})})}}var Il=Ll;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(N.jsx)(Il,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[464,1,2]]]);
//# sourceMappingURL=main.b24fc53b.chunk.js.map